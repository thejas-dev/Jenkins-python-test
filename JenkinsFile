pipeline{
    agent { docker { image 'python:3.13.0-alpine3.20' } }
    triggers {
        pollSCM '* * * * *'
    }
    stages{
        stage('Build'){
            steps{
                echo 'From Build'
                sh '''
                    echo Multiline Text from build text
                '''    
            }
        }
        stage('Test'){
            steps{
                echo 'From Test'
                sh '''
                    echo Multiline Text from test text
                ''' 
            }
        }
        stage('deploy'){
            steps{
                echo 'From Deploy'
                sh '''
                    echo Multiline Text from deploy text
                ''' 
            }
        }
    }
    post{
        always{
            mail(
                to: 'thejaskala308@gmail.com',
                subject: 'Email From Jenkins Pipeline', 
                mimeType: 'text/html',
                body: '''
                    <html>
                    <head>
                        <style>
                        body {
                            font-family: Arial, sans-serif;
                            background-color: #f4f4f4;
                            padding: 20px;
                        }
                        .container {
                            background-color: #ffffff;
                            padding: 20px;
                            border-radius: 5px;
                            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
                        }
                        .header {
                            background-color: #4CAF50;
                            color: white;
                            padding: 10px 0;
                            text-align: center;
                            font-size: 24px;
                        }
                        .content {
                            margin: 20px 0;
                            font-size: 16px;
                            color: #333333;
                        }
                        .footer {
                            text-align: center;
                            color: #777777;
                            font-size: 12px;
                        }
                        </style>
                    </head>
                    <body>
                        <div class="container">
                        <div class="header">Jenkins Pipeline Email</div>
                        <div class="content">
                            <p>Hello,</p>
                            <p>This is a sample HTML email sent from a Jenkins pipeline with CSS styling.</p>
                        </div>
                        <div class="footer">
                            <p>Sent from Jenkins CI</p>
                        </div>
                        </div>
                    </body>
                    </html>
                    '''
            )
        }
    }
}